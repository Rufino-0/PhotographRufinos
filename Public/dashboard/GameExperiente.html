<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photograph | Quiz Experiente</title>
    <link rel="stylesheet" href="game.css">
    <script src="../js/sessao.js"></script>
</head>

<body>
    <nav id="navbar">
        <a onclick="limparSessao()" href="../dashboard/dashSite.html"><img id="logo" src="../assets/index/LogoBlack.png"
                alt="LogoBlack"></a>
        <ul>
            <li class="dropdown"><a>Fotografia</a>

                <div class="dropdown-menu">
                    <a href="../paginas/Objetos.html">Objetos</a>
                    <a href="../paginas/Pessoaa.html">Pessoas</a>
                    <a href="../paginas/paisagem.html">Paisagens</a>
                </div>
            </li>

            <li class="dropdown2"> <a>Games</a>

                <div class="dropdown-menu2">
                    <a href="../dashboard/Game.html">Quiz iniciante</a>
                    <a href="../dashboard/GameExperiente.html">Quiz experiente</a>

                </div>

            </li>

            <li class="dropdown3"> <a>Info</a>

                <div class="dropdown-menu3">
                    <a href="../dashboard/metricas.html">Metricas</a>
                </div>
            </li>
        </ul>
        <button onclick=" limparSessao()"><img id="exit" src="../assets/dash/exit.png" alt=""></button>
    </nav>
    <div class="geral">

        <h1 id="cronometro">00.00</h1>

        <div id="content" class="content">
            <h3>Quiz - Fotografia Experiente</h3>

            <p>Bem vindo! ao nosso Quiz
                <br>
                entre e descubra se você sabe sobre fotograifa, respire fundo, ajuste suas configurações e esteja pronto
                para jogar nosso game, nessa versão as perguntas são mais dificeis e mais complexas mas um bom fotografo
                saberia.
                Que cada resposta certa seja um flash de sucesso e que cada seja apenas uma nova oportunidade de
                aprendizado. Estamos ansiosos para ver suas pontuações.
            </p>

            <button class="resposta-btn" onclick="entrada()">Jogar!</button>

        </div>
        <div id="content1" class="content1">
            <h3>1° - Questão</h3>


            <p>Qual é a distância focal de uma lente de 50mm em uma câmera full-frame?</p>


            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">25mm</button>
                <button class="resposta-btn " onclick="responder(false)">35mm</button>
                <button class="resposta-btn " onclick="responder(false)">75mm</button>
                <button class="resposta-btn" onclick="responder(true)">50mm</button>
            </div>
        </div>
        <div id="content2" class="content2">
            <h3>2° - Questão</h3>

            <p>O que é o "bokeh" em fotografia?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">Um tipo de filtro fotográfico</button>
                <button class="resposta-btn" onclick="responder(true)">Um efeito de desfoque agradável no fundo da
                    imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Uma técnica de iluminação para
                    retratos</button>
                <button class="resposta-btn " onclick="responder(false)">Um tipo de lente macro especializada</button>
            </div>
        </div>
        <div id="content3" class="content3">
            <h3>3° - Questão</h3>

            <p>O que é a "regra dos terços" na composição fotográfica?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">Um método de focagem automática</button>
                <button class="resposta-btn " onclick="responder(false)">Uma técnica de medição de luz</button>
                <button class="resposta-btn " onclick="responder(false)"> Uma regra para calcular a profundidade de
                    campo</button>
                <button class="resposta-btn" onclick="responder(true)">Um princípio de composição que divide a imagem em
                    terços, tanto horizontal como verticalmente</button>
            </div>
        </div>
        <div id="content4" class="content4">
            <h3>4° - Questão</h3>

            <p>Qual é o propósito do "polarizador" em fotografia?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">Reduzir reflexos e aumentar a saturação das
                    cores</button>
                <button class="resposta-btn " onclick="responder(false)">Ajustar a temperatura de cor da imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Controlar o brilho da imagem em ambientes muito
                    iluminados</button>
                <button class="resposta-btn" onclick="responder(true)">Reduzir reflexos e aumentar a saturação das
                    cores</button>
            </div>
        </div>
        <div id="content5" class="content5">
            <h3>5° - Questão</h3>

            <p>O que é "exposição composta" em fotografia?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">Um método para corrigir a exposição durante a
                    captura
                    da imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Um tipo de medição de luz automática na
                    câmera</button>
                <button class="resposta-btn" onclick="responder(true)">Uma técnica de fotografia de múltipla
                    exposição</button>
                <button class="resposta-btn " onclick="responder(false)">Uma técnica de edição de imagens no
                    pós-processamento</button>
            </div>
        </div>
        <div id="content6" class="content6">
            <h3>6° - Questão</h3>

            <p>Qual é a principal diferença entre uma câmera DSLR e uma câmera mirrorless?</p>

            <div class="respostas">
                <button class="resposta-btn" onclick="responder(true)">A presença ou ausência de um espelho
                    reflexivo</button>
                <button class="resposta-btn " onclick="responder(false)">O tipo de sensor utilizado</button>
                <button class="resposta-btn " onclick="responder(false)">O sistema de visualização do visor</button>
                <button class="resposta-btn " onclick="responder(false)">O método de focagem automática</button>
            </div>
        </div>
        <div id="content7" class="content7">
            <h3>7° - Questão</h3>

            <p>O que é "profundidade de campo" em fotografia?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">O tempo necessário para a câmera capturar a
                    imagem
                    após o disparo</button>
                <button class="resposta-btn" onclick="responder(true)">A quantidade de nitidez em uma imagem, do
                    primeiro plano
                    ao plano de fundo</button>
                <button class="resposta-btn " onclick="responder(false)">A distância máxima entre o fotógrafo e o
                    assunto que
                    pode ser mantida em foco</button>
                <button class="resposta-btn " onclick="responder(false)">A faixa dinâmica de cores em uma
                    imagem</button>
            </div>
        </div>
        <div id="content8" class="content8">
            <h3>8° - Questão</h3>

            <p>Qual é a função do "balanço de branco" em uma câmera?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)"> Ajustar a exposição da imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Ajustar a velocidade do obturador</button>
                <button class="resposta-btn" onclick="responder(true)">Controlar a temperatura de cor da luz na
                    cena</button>
                <button class="resposta-btn " onclick="responder(false)">Corrigir a distorção da lente</button>
            </div>
        </div>
        <div id="content9" class="content9">
            <h3>9° - Questão</h3>

            <p>O que é o "histograma" em fotografia digital?</p>

            <div class="respostas">
                <button class="resposta-btn " onclick="responder(false)">Um gráfico que mostra a quantidade de ruído na
                    imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Um indicador da nitidez da imagem</button>
                <button class="resposta-btn" onclick="responder(true)">Uma representação visual da distribuição de cores
                    na
                    imagem</button>
                <button class="resposta-btn " onclick="responder(false)">Uma técnica para reduzir a aberração
                    cromática</button>
            </div>

        </div>
        <div id="content10" class="content10">
            <h3>10° - Questão</h3>

            <p>Qual é a vantagem de fotografar em formato JPEG em comparação com o formato RAW?</p>

            <div class="respostas">
                <button class="resposta-btn" onclick="responder(true)">Menor tamanho de arquivo</button>
                <button class="resposta-btn " onclick="responder(false)">Melhor reprodução de cores</button>
                <button class="resposta-btn " onclick="responder(false)">Maior flexibilidade na pós-produção</button>
                <button class="resposta-btn " onclick="responder(false)">Maior flexibilidade na pós-produção</button>
            </div>
        </div>

    </div>

</body>
<script>
    const resultado = {
        acerto: [],
        erros: [],
        tempoFinalizado: []
    };

    function entrada() {

        content.style.display = "none"
        content1.style.display = "flex"
        rodar()
        intervalo = setInterval(rodar, 10)

    };

    let min = '00';
    let hr = 0;
    let sec = 0;
    let intervalo

    function rodar() {
        sec++
        if (sec == 60) {
            min++
            sec = 0
            if (min == 60) {
                min = 0
                sec = 0
            }
        }
        document.getElementById('cronometro').innerHTML = `${min}.${sec}`
    }




    let ax = 1;

    // declarando a a variavel q vai ser usada para conferir os paramentros 
    function responder(resposta) {

        // lógica para poder mudar o conteudo do conteudo que está sendo exibido, para o proximo conteudo
        let proxima = ax + 1;

        // pegando as divs das perguntas para poder fazer o jogo de display none e flex, usando as variaveis ax e proxima para tornar dinâmico 
        let perguntaAtual = document.getElementById(`content${ax}`);
        let proximaPergunta = document.getElementById(`content${proxima}`);

        // validando as respostas certas e erradas e inserindo no vetor

        if (resposta == true) {
            resultado.acerto.push(1)

            console.log("acertos = " + resultado.acerto.length)
        } else if (resposta == false) {
            resultado.erros.push(1)

            console.log("erros = " + resultado.erros.length)
        }

        // quando  a variavel proxima for = 11 o cronometro vai parar e ser inserido no vetor, e vai voltar para a tela de entrada

        if (proxima == 11) {
            clearInterval(intervalo)
            content.style.display = "flex"
            resultado.tempoFinalizado.push(document.getElementById('cronometro').innerText)
            document.getElementById('cronometro').innerText = '00.00'
            ax = 1
            registrar()
        }

        perguntaAtual.style.display = "none"
        proximaPergunta.style.display = "flex"

        ax++
    }

    function registrar() {

        // fazendo a multiplicação para ver a quantidade de pontos do usuario

        let qntPontos = resultado.acerto.length * 10;

        // pegando o id do usuario  no session storage para usar no fetch para registrar o score
        let idUsuario = sessionStorage.ID_USUARIO;

        // fazendo a requisição para o servidor para registrar o score
        fetch("/score/registrarExperiente", {

            method: "POST",
            headers: {
                "Content-Type": "application/json",
            },

            // reatribuindo as variaveis e mandando elas para um json, e assim poder usar nas outras partes de inserção de dados
            body: JSON.stringify({

                idUsuario: idUsuario,
                pontos: qntPontos,
                acertos: resultado.acerto.length,
                erros: resultado.erros.length,
                tempo: resultado.tempoFinalizado[0]

            }),

        }).then(response => {

            // validações para ver se funcionou ou não a inserção dos dados

            if (response.ok) {

                console.log('Resultados registrados com sucesso!');

            } else {

                console.error('Erro ao registrar os dados.');

            }

        }).catch(error => {

            console.error('Erro ao enviar a requisição:', error);

        });
    }
</script>

</html>